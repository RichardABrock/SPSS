<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MA Research Methods Learning SPSS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Index_files/libs/clipboard/clipboard.min.js"></script>
<script src="Index_files/libs/quarto-html/quarto.js"></script>
<script src="Index_files/libs/quarto-html/popper.min.js"></script>
<script src="Index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Index_files/libs/quarto-html/anchor.min.js"></script>
<link href="Index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">MA Research Methods Learning SPSS</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="spss" class="level1">
<h1>SPSS</h1>
</section>
<section id="spss-workshop" class="level1">
<h1>SPSS Workshop</h1>
<section id="getting-set-up" class="level2">
<h2 class="anchored" data-anchor-id="getting-set-up">Getting set up</h2>
<p>You can download SPSS from the <a href="https://kcl.onthehub.com/WebStore/Welcome.aspx">KCL Software Hub</a>. You will need to log in with your KCL credentials to access the software.</p>
<p>Search for ‚ÄúIBM SPSS Statistics‚Äù, select your platform (Windows / Mac), and add to cart:</p>
<p><img src="images/search.png" width="600" height="300"> <img src="images/SPSS.png" width="600" height="300"></p>
<p>Next check out, adding your details, which will allow you to download.</p>
<p>Once you have downloaded the software, you will need to install SPSS on your computer.</p>
</section>
<section id="section-1-the-spss-environment" class="level2">
<h2 class="anchored" data-anchor-id="section-1-the-spss-environment">Section 1: The SPSS environment</h2>
<p>The aim of this section is to familiarise ourselves with the SPSS environment. The SPSS data editor contains two views which you can switch between using the tabs at the bottom left of the screen (figure 1).</p>
<p>Figure 1. (1) The data view, where we enter our data (similar to an Excel spreadsheet). Each row represents a case (e.g.&nbsp;person, school, organisation).<br>
(2) The variable view, where we label and describe our data. Here, each row represents a variable (e.g.&nbsp;age, gender, educational attainment). The columns provide information about the characteristics of variables. Table 1 explains each of the columns.</p>
<p><img src="images/Data_view.png" width="400" height="300"></p>
<ol type="1">
<li>The data view, where we enter our data (similar to an Excel spreadsheet). Each row represents a case (e.g.&nbsp;person, school, organisation).<br>
</li>
<li>The variable view, where we label and describe our data. Here, each row represents a variable (e.g.&nbsp;age, gender, educational attainment). The columns provide information about the characteristics of variables. Table 1 explains each of the columns.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>NB: Somewhat confusingly, SPSS sometimes refers to p-value as ‚Äòsig‚Äô. What p-value really signifies is the probability that the results have occurred by chance, given the null hypothesis. If the p (probability) is low, then we say the result is significant. In Education and many social sciences, the ‚Äòcut off‚Äô point is often 0.05. And we refer to this cut-off as ‚Äòalpha‚Äô.</strong></p>
</div>
</div>
<p><strong>Table 1. Explanation of columns in SPSS variable view</strong></p>
<table class="table">
<colgroup>
<col style="width: 2%">
<col style="width: 97%">
</colgroup>
<tbody>
<tr class="odd">
<td>Column title</td>
<td>What it means</td>
</tr>
<tr class="even">
<td>Name</td>
<td>This column provides the name of the variable. Older versions of SPSS were limited to 8 character names, which is why you often find rather intriguing names for variables in data sets. New versions of SPSS are not limited to 8 characters, but lengthy descriptions should not be included in the Name. They go in the Label column.</td>
</tr>
<tr class="odd">
<td>Type</td>
<td>This column indicates the type of variable that is reflected in this particular row. There are 8 options to choose from: Numeric, Comma, Dot, Scientific notation, Date, Dollar, Custom currency, and String. Most variables beginning users will encounter are either Numeric or String variables. Numeric variables are numbers that either represent a value (e.g., 1=Catholic) or are the value of interest (height=73 inches). String numbers are text and can only be treated as such. As a result, very few manipulations can be performed on them in SPSS.</td>
</tr>
<tr class="even">
<td>Width</td>
<td>The number of digits displayed for numerical values or the length of a string variable.</td>
</tr>
<tr class="odd">
<td>Decimals</td>
<td>This column allows you to control the number of characters after the decimal place.</td>
</tr>
<tr class="even">
<td>Label</td>
<td>This column allows you to provide a more extensive description of the variable.</td>
</tr>
<tr class="odd">
<td>Values</td>
<td>This column allows you to provide a key for what the numbers of a numeric variable may represent (e.g., 1=Catholic, 2=Protestant).</td>
</tr>
<tr class="even">
<td>Missing</td>
<td>This column allows you to indicate whether there are any missing values in a variable. Values marked as missing are excluded from analyses in SPSS.</td>
</tr>
<tr class="odd">
<td>Columns</td>
<td>The width of each column in the Data View spreadsheet. Note that this is not the same as the number of digits displayed for each value. This simply refers to the width of the actual column in the spreadsheet.</td>
</tr>
<tr class="even">
<td>Align</td>
<td>This column indicates the alignment of the variable in the Data View.</td>
</tr>
<tr class="odd">
<td>Measure</td>
<td>This column indicates the level of measurement of the variable. There are three from which you can choose: Nominal, Ordinal, and Scale.</td>
</tr>
<tr class="even">
<td>Role</td>
<td>The role that a variable will play in your analyses (i.e., independent variable, dependent variable, both independent and dependent). Some options in SPSS allow you to pre-select variables for particular analyses based on their defined roles. Any variable that meets the role requirements will be available for use in such analyses. It is not recommended that you tamper with this, at least not as novices</td>
</tr>
</tbody>
</table>
<p><a href="http://en.wikibooks.org/wiki/Using_SPSS_and_PASW/Understanding_the_Variable_View">Source one</a> and <a href="https://libguides.library.kent.edu/SPSS/DefineVariables">Source two</a></p>
<p><u><strong>Entering data</strong></u></p>
<p>Click on ‚Äòfile‚Äô, then ‚Äònew‚Äô, and then ‚Äòdata‚Äô to open a blank data editor.</p>
<p><img src="images/blank.png" width="800" height="650"></p>
<p><strong>Task 1:</strong> Give your variables the following characteristics (in the variable view).</p>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<tbody>
<tr class="odd">
<td>
<p>
<strong>Name</strong>
</p>
</td>
<td>
<p>
<strong>Type</strong>
</p>
</td>
<td>
<p>
<strong>Width</strong>
</p>
</td>
<td>
<p>
<strong>Deci-mals</strong>
</p>
</td>
<td>
<p>
<strong>Label</strong>
</p>
</td>
<td>
<p>
<strong>Values</strong>
</p>
</td>
<td>
<p>
<strong>Miss</strong>
</p>
<p>
<strong>-ing</strong>
</p>
</td>
<td>
<p>
<strong>Columns</strong>
</p>
</td>
<td>
<p>
<strong>Align</strong>
</p>
</td>
<td>
<p>
<strong>Measure</strong>
</p>
</td>
</tr>
<tr class="even">
<td>
<p>
IDnumber
</p>
</td>
<td>
<p>
Numeric
</p>
</td>
<td>
<p>
8
</p>
</td>
<td>
<p>
0
</p>
</td>
<td>
<p>
Participant ID
</p>
</td>
<td>
<p>
None
</p>
</td>
<td>
<p>
None
</p>
</td>
<td>
<p>
8
</p>
</td>
<td>
<p>
Right
</p>
</td>
<td>
<p>
Scale
</p>
</td>
</tr>
<tr class="odd">
<td>
<p>
Gender
</p>
</td>
<td>
<p>
Numeric
</p>
</td>
<td>
<p>
8
</p>
</td>
<td>
<p>
0
</p>
</td>
<td>
<p>
Gender of Participant
</p>
</td>
<td>
<p>
1 = Male
</p>
<p>
2 = Female
</p>
</td>
<td>
<p>
None
</p>
</td>
<td>
<p>
8
</p>
</td>
<td>
<p>
Right
</p>
</td>
<td>
<p>
Nominal
</p>
</td>
</tr>
<tr class="even">
<td>
<p>
IQ
</p>
</td>
<td>
<p>
Numeric
</p>
</td>
<td>
<p>
8
</p>
</td>
<td>
<p>
0
</p>
</td>
<td>
<p>
IQ score
</p>
</td>
<td>
<p>
None
</p>
</td>
<td>
<p>
None
</p>
</td>
<td>
<p>
8
</p>
</td>
<td>
<p>
Right
</p>
</td>
<td>
<p>
Scale
</p>
</td>
</tr>
</tbody>
</table>
<p>Note: type, width, columns, align can often be left as the default. Also, changing the decimal value will not alter the information you input if you only input whole numbers.</p>
<p><strong>Task 2:</strong> Try entering the following data into SPSS (in the data view).</p>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<tbody>
<tr class="odd">
<td>IDnumber</td>
<td>Gender</td>
<td>IQ</td>
</tr>
<tr class="even">
<td>1</td>
<td>Male</td>
<td>105</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Female</td>
<td>110</td>
</tr>
<tr class="even">
<td>3</td>
<td>Female</td>
<td>112</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Female</td>
<td>102</td>
</tr>
<tr class="even">
<td>5</td>
<td>Male</td>
<td>100</td>
</tr>
<tr class="odd">
<td>6</td>
<td>Male</td>
<td>120</td>
</tr>
<tr class="even">
<td>7</td>
<td>Female</td>
<td>98</td>
</tr>
<tr class="odd">
<td>8</td>
<td>Male</td>
<td>103</td>
</tr>
<tr class="even">
<td>9</td>
<td>Female</td>
<td>128</td>
</tr>
<tr class="odd">
<td>10</td>
<td>Male</td>
<td>110</td>
</tr>
</tbody>
</table>
<p>Remember that 1 = Male, 2 = Female for Gender</p>
<p>Finally, locate the Output Window, which is empty at the moment.</p>
<p>** You may want to save your data file that is generated to <u>in a space you can find (e.g., on your desktop for now)</u> using the file name <strong>section1.sav</strong>**</p>
</section>
<section id="section-2-describing-your-data" class="level2">
<h2 class="anchored" data-anchor-id="section-2-describing-your-data">Section 2: Describing your data</h2>
<p>The first aim of this task is to obtain descriptive statistics such as means, standard deviations, frequencies and range of various variables. Download the data file <a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1765032_kcl_ac_uk/EXVBVr6lIrdHmn1HPtvmW5MBRt8gy-TNsTfOXn8tNa4reg?e=1bTWvG">PISA_2022.sav</a> and open it in SPSS.</p>
<p><img src="images/Open_file.jpg" width="900" height="420"></p>
<p>The data are from the OECD‚Äôs 2022 survey - the full data set has been cut down to make things easier. You will find the following variables in the data:</p>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<tbody>
<tr class="odd">
<td>Item</td>
<td>Description</td>
</tr>
<tr class="even">
<td>ST004D01T</td>
<td>Gender: Male / Female / NA.</td>
</tr>
<tr class="odd">
<td>CNT</td>
<td>Country</td>
</tr>
<tr class="even">
<td>PV1MATH</td>
<td>Mathematics test scores (0-1000)</td>
</tr>
<tr class="odd">
<td>PV1READ</td>
<td>Reading test scores (0-1000)</td>
</tr>
<tr class="even">
<td>PV1SCIE.</td>
<td>Science test scores (0-1000)</td>
</tr>
<tr class="odd">
<td>HOMEPOS</td>
<td>A measure of wealth (home possessions) Normalised with a mean of 0,</td>
</tr>
<tr class="even">
<td>ESCS</td>
<td>A measure of social class Normalised with a mean of 0,</td>
</tr>
<tr class="odd">
<td>OCOD1</td>
<td>Mother‚Äôs occupation</td>
</tr>
<tr class="even">
<td>OCOD2</td>
<td>Father‚Äôs occupation</td>
</tr>
<tr class="odd">
<td>ST253Q01JA</td>
<td>How many digital devices in your home?</td>
</tr>
<tr class="even">
<td>ST016Q01NA</td>
<td>How satisfied are you with life (/10)</td>
</tr>
<tr class="odd">
<td>ST253Q01JA</td>
<td>How many digital devices in your home?</td>
</tr>
<tr class="even">
<td>IC180Q01JA</td>
<td>Agree/disagree: I trust what I read online</td>
</tr>
<tr class="odd">
<td>PA185Q08JA</td>
<td>Agree/disagree: At home, we discuss the books we are reading</td>
</tr>
<tr class="even">
<td>life_sat</td>
<td>Satisfied / Not-satisfied</td>
</tr>
</tbody>
</table>
</section>
<section id="task-1-obtain-descriptive-statistics-for-the-following-variables" class="level2">
<h2 class="anchored" data-anchor-id="task-1-obtain-descriptive-statistics-for-the-following-variables"><strong>Task 1:</strong> Obtain descriptive statistics for the following variables</h2>
<div class="question-header">

</div>
<div class="question">
<details>
<summary>
Q1: How many students are there in the data set?
</summary>
<p>613,744 students</p>
</details>
<details>
<summary>
Q2: What kind of variable is ST004D01T?
</summary>
<p>Categorical (it is a gender variable)</p>
</details>
<details>
<summary>
Q3: What kind of variable is ST253Q0JA?
</summary>
<p>Ordinal - it is a count of digital devices in the home (the responses are: There are no devices, one, two, three etc)</p>
</details>
</div>
</section>
<section id="describing-data" class="level2">
<h2 class="anchored" data-anchor-id="describing-data">Describing data</h2>
<p>There are a number of ways of obtaining information describing data using SPSS, in this exercise you will use the <em>Descriptives</em> option in the <em>Analyze</em> ‚ûù <em>Descriptive</em> statistics menu (see Figure 2.1). The <em>Descriptives</em> option should be used to generate descriptive information about continuous variables using all cases in the data file. The <em>Frequencies</em> option should be used to generate descriptive information about categorical variables using all cases in the data file.</p>
<p><img src="images/Descriptive.png" width="900" height="610"></p>
<p>Figure 2.1</p>
</section>
<section id="task-2-the-descriptives-option" class="level2">
<h2 class="anchored" data-anchor-id="task-2-the-descriptives-option"><strong>Task 2: The <u>D</u>escriptives option</strong></h2>
<p>Assume we are required to produce descriptive information such as the mean math score by gender for all students in the sample. To do this, first select the <u><strong>A</strong></u><strong>nalyze</strong> pull down menu. Choose the <strong>D<u>e</u>scriptive statistics</strong> option. You are presented with a further menu where you should click on <u><strong>D</strong></u><strong>escriptives</strong>.</p>
<p>You are then presented with a window showing a list of variables in the <strong>PISA_2022.sav</strong> data file (see figure 2.2). First select the variables you want to look at. Here select both AGE and TENURE (by clicking on the variable in the list and then clicking the arrow button). Now you have to choose what type of statistics you wish to generate. To do this click on the grey <strong>Options</strong> button.</p>
<p>You can now choose various descriptive statistics which describe the nature of your data. To select an option, click on the word and a cross will appear in its box indicating that it is selected. Select these statistics: <strong>Mean, Standard Deviation, Minimum, Maximum, and Range</strong>. Once these are selected click on the <strong>Continue</strong> button. Then click <strong>OK</strong>.</p>
<div style="text-align:center">
<p><img src="images/Descriptive_dialog.png" width="300" height="300"></p>
</div>
<p>Figure 2.2</p>
<p>You are then presented with the output screen presented in figure 2.3, the Descriptives requested will have been generated in this window. You can look at your output by moving about in the window using the arrow keys on the keyboard or the Page up/ Page down buttons. You can also use the mouse and the ‚ÄúScroll Bar‚Äù on the right hand edge of the output window to move around.</p>
<p>** You may want to save your output that is generated to <u>in the same space you saved the previous work</u> using the filename <strong>section2.spv,</strong> but do not close this window once you have saved it**</p>
<div style="text-align:center">
<p><img src="images/Descriptive_out.png" width="800" height="533"></p>
</div>
<p>Figure 2.3</p>
<p><strong>Task 2:</strong> More descriptive statistics</p>
<div class="question-header">

</div>
<div class="question">
<details>
<summary>
Q4: What is the mean and standard deviation of the mathematics score?
</summary>
<p>Mean = 440.87467 Standard deviation = 101.840726</p>
</details>
<details>
<summary>
Q5: Which subject has the highest maximum score?
</summary>
<p>Mathematics (943.041)</p>
</details>
<details>
<summary>
Q6: What is the range of the number of digital devices in the home? What is the mean?
</summary>
<p>From 1 to 8 - the mean is 6.9855</p>
</details>
</div>
</section>
<section id="task-3-the-frequencies-option" class="level2">
<h2 class="anchored" data-anchor-id="task-3-the-frequencies-option"><strong>Task 3: The Frequencies option</strong></h2>
<p>Assume we are required to produce other descriptive information such as the number and percentage of teachers who are female, who work part-time and who are satisfied with their jobs. To do this, again select the <u><strong>A</strong></u><strong>nalyze</strong> pull down menu. Choose the <strong>D<u>e</u>scriptive statistics</strong> option, but this time click on <u><strong>F</strong></u><strong>requencies</strong> in the further menu.</p>
<p>You are again presented with a window showing a list of variables in the <strong>PISA_2022.sav</strong> data file (see figure 2.4). First select the variables you want to look at. Here select ST004D01T (Student Standardised) Gender and ISCO-08 Occupation code, (by clicking on the variable in the list and then clicking the arrow button). SPSS will produce counts and percentages by default for this analysis. If you want to display your frequency data in a chart, you can do this by clicking on the <u><strong>C</strong></u><strong>harts</strong> button and selecting a <u><strong>B</strong></u><strong>ar chart</strong>.</p>
<div style="text-align:center">
<p><img src="images/Frequency.png" width="492" height="300"></p>
</div>
<p>Figure 2.4</p>
<p>Click on OK and you will go straight to the output window where your information is generated. You may have some information in this window from the previous task so be aware of this. The new output provides frequency counts of the data for each of the variables you selected and also a series of percentages (see Fig 2.5). Note that for this analysis Percent and Valid Percent are the same as there are no missing data for these variables.</p>
<p float="centre">
</p><p><img src="images/Frequency_count.png" width="350" height="220"> <img src="images/Frequency_chart.png" width="350" height="220"></p>
<p></p>
<p float="centre">
</p><p>Figure 2.5</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Save your output again (overwrite the previous section2.spv as long as your output file includes the data generated for both task 2 and 3).</p>
</div>
</div>
<p><strong>Task 3</strong> Frequencies</p>
<div class="question-header">

</div>
<div class="question">
<details>
<summary>
Q7: What percentage of boys and girls are in the survey?
</summary>
<p>49.8% Female; 50.2% Male</p>
</details>
<details>
<summary>
Q8: How many mothers are there in the survey who are electrical engineers?
</summary>
<p>125</p>
</details>
</div>
</section>
<section id="section-3-performing-a-chi-square-test" class="level2">
<h2 class="anchored" data-anchor-id="section-3-performing-a-chi-square-test">Section 3: Performing a Chi-square test</h2>
<p>The researcher who collected the data was then interested in whether there were any associations between some of the variables studied in the survey. In particular, the researcher was interested in examining the associations between two of the categorical variables in the questionnaire. In order to do this Chi-square tests were required.</p>
<p>The hypothesis that the researcher wanted to test:</p>
<p>H1: The number of boys and girls who are satisfied with life is the same</p>
</section>
<section id="task-4-conducting-a-chi-square-test" class="level2">
<h2 class="anchored" data-anchor-id="task-4-conducting-a-chi-square-test"><strong>Task 4: Conducting a Chi Square test</strong></h2>
<p>To carry out a Chi-square analysis click on Descriptive statistics in the Analyze pull down menu. Then select Crosstabs. You will see the variables in the file teachers1.sav listed in the Crosstabs window on the left (See Fig 3.1 and 3.2). Put the dependent variable (DV) into the Row(s): box and the independent variable (IV) into the Column(s): box (remember it is the IV that affects the DV, not the other way round). Once you have selected the two variables, click on the Statistics button (on the side of the window). Fig 3.3 will appear and here select the Chi Square option. Then click on Continue. Click on the Cells button and Fig 3.4 will appear. In the Counts sector click on the Expected selection, the Observed selection should already be selected. This ensures that the expected and the observed frequencies are generated in each cell of the Chi square contingency table. Also in this window, select the Percentages: Column option. Click on Continue then OK to generate your output.</p>
<p float="centre">
</p><p><img src="images/Fig3_1.png" width="400" height="280"> <img src="images/Fig3_2.png" width="350" height="280"></p>
<p></p>
<p float="centre">
</p><p><img src="images/Fig3_3.png" width="300" height="300"> <img src="images/Fig3_4.png" width="330" height="300"></p>
<p></p>
<div class="question-header">

</div>
<div class="question">
<p>Q9) Describing what you have found - Use the data in your output window to complete the statement below:</p>
<p>___________ percent of boys who were satisfied with their life and _________ percent were dissatisfied.<br>
____________ percent of girls who were satisfied with their life and _____________ percent were dissatisfied. Compared to boys, girls were more likely to be satisfied/dissatisfied (delete as appropriate) with their lives.<br>
This association was/was not (delete as appropriate) statistically significant (p&lt;0.05/p&gt;0.05) (delete as appropriate).</p>
<p>Q10) (Advanced) What is the null hypothesis for the test that you have conducted?</p>
<p>Q11) (Advanced) Using the data in your output window, report the results of the chi square below. Report the results like this: ùùå2 (degrees of freedom) = Pearson Chi Square value , p value</p>
<p>ùùå2 (______) = __________ , ___________</p>
<p>Save your output as section3.spv.</p>
<summary>
</summary>
<details>
<p><u><strong>78.3</strong></u> percent of boys who were satisfied with their life and <u><strong>21.7</strong></u> percent were dissatisfied.<br>
<u><strong>46.3</strong></u> percent of girls who were satisfied with their life and <u><strong>60.1</strong></u> percent were dissatisfied. Compared to boys, girls were more likely to be <u><strong>dissatisfied</strong></u> with their lives.<br>
<u><strong>This association was statistically significant (p&lt;0.05).</strong></u></p>
<p>Q10) (Advanced) What is the null hypothesis for the test that you have conducted?</p>
<p>Boys and girls report the same level of life satisfaction</p>
<p>Q11) (Advanced) Using the data in your output window, report the results of the chi square below. Report the results like this: ùùå2 (degrees of freedom) = Pearson Chi Square value , p value</p>
<p>ùùå2 (<u><strong>1</strong></u>) = <u><strong>7803.811</strong></u> , <u><strong>p &lt;0.01</strong></u></p>
<div style="text-align:center">
<p><img src="images/chi_out.png" width="600" height="600"></p>
</div>
</details>
</div>
</section>
<section id="section-4-performing-a-t-test" class="level2">
<h2 class="anchored" data-anchor-id="section-4-performing-a-t-test">Section 4: Performing a T-test</h2>
<section id="paired-and-independent-samples-t-tests" class="level3">
<h3 class="anchored" data-anchor-id="paired-and-independent-samples-t-tests">Paired and independent samples t-tests</h3>
</section>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<p>There are two types of t-test that look at the difference between 2 groups or conditions. These are Paired t-tests (within/related subjects) and Independent samples t-test (between/unrelated subjects). We are going to look at both types using the stress.sav data file. Using this data file we can perform both types of t-test.</p>
<p>You will find five different variables in the <a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1765032_kcl_ac_uk/EV-KLofbfUdArAN3UAjD45kBkggmU0gGzC8Fjog0JUMKyg?e=3yOZYS">Wellbeing.sav</a> data file. The data comes from a study into the wellbeing of university students in Colombia which measured their life satisfaction with a survey before and after a course on wellbeing. The data also include a group of control students who didn‚Äôt take the course.</p>
<p>The variables in the data set are:</p>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 84%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ID</td>
<td>A participant unique identifier</td>
</tr>
<tr class="even">
<td>Gender</td>
<td>The Gender of the student (1 = Male / 2 = Female)</td>
</tr>
<tr class="odd">
<td>Group</td>
<td>Whether the student was in the control or condition group (Intervention/ Control)</td>
</tr>
<tr class="even">
<td>Life_sat_pre</td>
<td>Respondents reports of their life satisfaction (/10) before the intervention</td>
</tr>
<tr class="odd">
<td>Life_sat_post</td>
<td>Respondents reports of their life satisfaction (/10) after the intervention</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="task-5-paired-t-test" class="level2">
<h2 class="anchored" data-anchor-id="task-5-paired-t-test"><strong>Task 5: Paired t-test</strong></h2>
<p>Here we are going to test whether or not there is a statistically significant difference between the overall stress levels at time one and time two.</p>
<section id="procedure" class="level3">
<h3 class="anchored" data-anchor-id="procedure">Procedure</h3>
<p>Choose the Compare Means &amp; Proportions option in the Analyze pull down menu. Then select the appropriate type of t-test (Paired-Samples T Test). You will be presented with a window (See fig 4.1).</p>
<div style="text-align:center">
<p><img src="images/Paired_t.png" width="800" height="750"></p>
</div>
<div style="text-align:center">
<p><img src="images/Paired_t_dialog.png" width="600" height="400"></p>
</div>
<p>Figure 4.1</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Click on the two repeated measures variables (a repeated measures variable is one measured more than once, i.e.&nbsp;it is repeated) and transfer them into the Paired Variables: box. Then simply click on OK. There you have it. Your t-test will appear in the output window.</p>
</div>
</div>
<p><strong>Task 6:</strong> Paired t-test</p>
<div class="question-header">

</div>
<div class="question">
<details>
<summary>
Q12: Is there a difference in wellbeing between pre and post test?
</summary>
<p>Yes, the mean of the pre-test is 7.0549 and the post test 7.7134</p>
</details>
<details>
<summary>
Q13 Is this difference statistically significant? What is the p-value?
</summary>
<p>The p-value is &lt;0.01</p>
<div style="text-align:center">
<p><img src="images/Paired_t_out.png" width="650" height="500"></p>
</div>
</details>
<details>
<summary>
Q14 (Advanced) What is the Null Hypothesis for this test?
</summary>
<p>That the means of the pre- and post-test groups are equal</p>
</details>
<details>
<summary>
Q15 (Advanced) Can the Null Hypothesis be rejected? Fill in: t ( df ) = t (the test statistic) , p-value
</summary>
<p>Yes the p-value is &lt;0.01 so the null hypothesis can be rejected. Fill in: t(327) = -7.973, &lt;0.01</p>
</details>
</div>
<p><strong>Task 2: Independent-samples t-test</strong></p>
<p>We are now going to test whether there is a difference in stress levels between males and females at time 1 (an independent t-test) and then at time 2. To run the t-test, first select the Compare Means &amp; Proportions option in the Analyze pull down menu. Then select the relevant t-test. Once the Independent-samples t-test window is presented, select the dependent variables (into the Test Variable(s): box). Then select the variable that defines the different groups we wish to compare (Gender) into the Grouping Variable: box. You then have to tell SPSS what groups within the grouping variable you wish to compare. Here, in Gender, there are only two different groups (male and female). As such, click on the Define Groups button and enter 1 (male) in the Group 1: box and 2 (female) in the Group 2 (if not automatically entered): box.</p>
<div style="text-align:center">
<p><img src="images/unpaired_t.png" width="650" height="450"></p>
</div>
<p>Figure 4.2</p>
<p>Now click continue. Then click on OK and your tests will run.</p>
</section>
</section>
<section id="interpreting-the-outputs" class="level2">
<h2 class="anchored" data-anchor-id="interpreting-the-outputs">Interpreting the outputs</h2>
<p>The output table shows the results from both t-tests: one comparing the stress levels of males and females at Time 1 (on top) and one comparing the stress levels of males and females at Time 2. Use the p values (in the column labelled ‚ÄòSig. (2-tailed)‚Äô and the row ‚ÄòEqual variances not assumed‚Äô) that are on the bottom in each box to answer the questions below. This is a more cautious test.</p>
<div style="text-align:center">
<p><img src="images/Indep_t_out.png" width="750&quot;" height="600"></p>
</div>
<p><strong>Task 5:</strong> Interpreting the output</p>
<div class="question-header">

</div>
<div class="question">
<details>
<summary>
Q16: Summarise your findings. (How do males and females differ in their wellbeing levels on the pre-test? What about on the post-test?
</summary>
<p>On the pre-test Males (‚Äú1‚Äù) score higher (mean = 7.4565) than females (‚Äú2‚Äù) (mean = 6.7632). On the post-test Males (‚Äú1‚Äù) also score higher (mean = 7.8986) than females (‚Äú2‚Äù) (mean = 7.5789).</p>
</details>
<details>
<summary>
Q17 What is the p-value for the t-test at the pre-test? What is the p-value for the t-test at the post-test? Are the differences ‚Äòstatistically significant‚Äô?)
</summary>
<p>On the pre-test the p-value is &lt;0.01 - the result is significant.</p>
<p>On the post-test the p-value for a two-tailed test with equal variance not assumed is 0.45 - the result is not significant.</p>
</details>
<details>
<summary>
Q18 What are the Null Hypotheses for these tests?
</summary>
<p>The means of the wellbeing scores for males and females are the same</p>
</details>
<details>
<summary>
Q19 Can the null hypotheses be rejected on a) the pre-test; b) the post-test?
</summary>
<p>On the pre-test the p-value is &lt;0.01 - the result is significant.</p>
<p>On the post-test the p-value for a two-tailed test with equal variance not assumed is 0.45 - the result is not significant.</p>
</details>
<details>
<summary>
Q20 Describe your findings?
</summary>
<p>Male students had higher wellbeing that female students on the pretest (mean = 7.4565 vs 6.7632) - this difference was statistically significant (t(326) = 4.194, p&lt;.001). However, this difference was not significant (t(326) = 2.016, p&lt;.045) on the post-test (mean = 7.8986 vs 7.5789).</p>
</details>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>One of the assumptions of an independent t-test is that we have homogeneous (similar) variances in both groups. If we violate this assumption, the results of our t-test may be invalid. Therefore, we must test whether this assumption has been violated before interpreting our t-test. This is done with the Levene‚Äôs Test.</p>
<p>A significant result (i.e.&nbsp;p&lt;0.05) for our Levene‚Äôs test means we have violated the assumption. In which case, we must use an ‚Äòadjusted‚Äô t-test. This is given on the row labelled ‚Äúequal variances not assumed‚Äù in the SPSS output.</p>
<p>However, if we have not violated the homogeneity of variances assumption (i.e.&nbsp;Levene‚Äôs is p&gt;0.05) we report the t-test results on the row labelled ‚Äúequal variances assumed‚Äù.</p>
</div>
</div>
</section>
<section id="section-5-introduction-to-correlation" class="level2">
<h2 class="anchored" data-anchor-id="section-5-introduction-to-correlation">Section 5: Introduction to Correlation</h2>
<p>University performance can be judged from a number of perspectives. For universities around the world, league table position is a further influential indicator of organisational performance. A number of league tables exist but the Times Higher Education league table is highly respected. Universities want to know how they can improve their performance and the aim of this task is to search for potential predictors of league table performance.</p>
<p>The data set <a href="https://emckclac-my.sharepoint.com/:u:/g/personal/k1765032_kcl_ac_uk/EfPFig94IHlGovYy7sVJYxUBxzA2jWSUKeuRF52zX7erug?e=VWqXUo">THE.sav</a> contains the following variables for 1397 universities in 2020:</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 81%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Institution</td>
<td>University Name</td>
</tr>
<tr class="even">
<td>Location</td>
<td>Location</td>
</tr>
<tr class="odd">
<td>Citations_2020</td>
<td>A score out of 100 measuring how highly cited the academics at an institution are</td>
</tr>
<tr class="even">
<td>Industry_Income_2020</td>
<td>A score out of 100 measuring the income from industrial collaborations (spin out companies, consulting etc.)</td>
</tr>
<tr class="odd">
<td>International_Outlook_2020</td>
<td>A score out of 100 measuring how international an institution is (based on numbers of international students, faculty etc)</td>
</tr>
<tr class="even">
<td>Research_2020</td>
<td>A score out of 100 measuring the institution‚Äôs research quality</td>
</tr>
<tr class="odd">
<td>Teaching_2020</td>
<td>A score out of 100 measuring the institution‚Äôs teaching quality</td>
</tr>
<tr class="even">
<td>Overall_2020</td>
<td>An overall score for each institution</td>
</tr>
</tbody>
</table>
<p>To carry out a bivariate correlation, click on the <strong>Analyze</strong> pull down menu and then click on the <strong>Correlate</strong> option. Then select <strong>Bivariate</strong>. The window presented in Figure 5.1 will appear. On the left hand side of the window you will see the list of the variables in the data file. Select the variables and click on the OK button.</p>
<div style="text-align:center">
<p><img src="images/bivariate_cor.png" width="850" height="500"></p>
</div>
<p>Figure 5.1</p>
<p>To interpret correlations, the following guidelines are often used:</p>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 25%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Strength</strong></td>
<td><strong>Correlation</strong></td>
</tr>
<tr class="even">
<td>Very weak</td>
<td>0.00-0.19</td>
</tr>
<tr class="odd">
<td>Weak</td>
<td>0.20-0.39</td>
</tr>
<tr class="even">
<td>Moderate</td>
<td>0.40-0.59</td>
</tr>
<tr class="odd">
<td>Strong</td>
<td>0.60-0.79</td>
</tr>
<tr class="even">
<td>Very strong</td>
<td>0.80-1.00</td>
</tr>
</tbody>
</table>
</section>
<section id="task-5-correlation" class="level2">
<h2 class="anchored" data-anchor-id="task-5-correlation"><strong>Task 5: Correlation</strong></h2>
<div class="question-header">

</div>
<div class="question">
<details>
<summary>
Q20: What is the strength and direction of the correlation between <code>Research_2020</code> and <code>Citations_2020</code>?
</summary>
<p>œÅ = .609 <strong>(strong positive correlation)</strong> p &lt;.001</p>
</details>
<details>
<summary>
Q21: What is the strength and direction of the correlation between <code>Industry_Income_2020</code> and <code>Overall_2020</code>?
</summary>
<p>œÅ = .394 <strong>(weak positive correlation)</strong> p &lt;.001</p>
</details>
<details>
<summary>
Q22: What is the strength and direction of the correlation between <code>Teaching_2020</code> and <code>Research_2020</code>?
</summary>
<p>œÅ = .901 <strong>(very strong positive correlation)</strong> p &lt;.001</p>
</details>
</div>
</section>
<section id="further-help-with-spss" class="level2">
<h2 class="anchored" data-anchor-id="further-help-with-spss"><strong>Further help with SPSS</strong></h2>
<p>‚Ä¢ <a href="https://libguides.library.kent.edu/SPSS/GettingStarted">Kent State University</a> has a comprehensive guide to SPSS</p>
<p>‚Ä¢ <a href="https://www.youtube.com/playlist?list=PL25257A24840423AE">SPSS Tutorials</a> Andy Field‚Äôs vidoe tutorials in SPSS can be helpful</p>
<p>‚Ä¢ For a comprehensive guide Andy Field‚Äôs <a href="https://librarysearch.kcl.ac.uk/permalink/44KCL_INST/jp52pk/cdi_proquest_miscellaneous_917303515">Discovering statistics using SPSS</a> is a good place to start and available on the library site</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>